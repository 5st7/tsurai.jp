{"_path":"/articles/java-performance-on-kubernetes","_dir":"articles","_draft":false,"_partial":false,"_locale":"","title":"Java Performance on kubernetesの要約","description":"Kubernetes上でのJavaアプリケーションの実行に関するリソース制限（CPUとメモリ）がアプリケーションのパフォーマンスに与える影響について解説している動画 を見たので要約","author":{"name":"5st7","avatarUrl":"https://pbs.twimg.com/profile_images/1042510623962275840/1Iw_Mvud_400x400.jpg","link":"https://twitter.com/5st7"},"date":"2024-2-15","layout":"article","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Kubernetes上でのJavaアプリケーションの実行に関するリソース制限（CPUとメモリ）がアプリケーションのパフォーマンスに与える影響について解説している"},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=HTtdoRc0BQI","rel":["nofollow"]},"children":[{"type":"text","value":"動画"}]},{"type":"text","value":" を見たので要約"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"リソース制限の影響\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"NewRelicの調査によると多くのJavaアプリケーションが1つまたは2つのCPUコアと512MB以下のメモリ制限で実行されているらしい"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"2つのCPU、1GBの割り当てでもGCのアルゴリズムはSerial GCになる"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ガベージコレクタの選択と設定\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Serial GCだとG1よりStop The Worldが長い"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"一般的にG1より効率が悪い"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"JVMの設定\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ヒープサイズに関しては自分で設定したほうがいい"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"1GB割り当てた時に256MBしか割り当てられなかったりするため"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"スタートアップ時間の最適化\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"多くのフレームワークがCPUの数でスレッドプールの数を設定してる"}]},{"type":"element","tag":"li","props":{},"children":[]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"クラスタとアプリケーションのスケーリング戦略\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Javaアプリケーションがスケールアップ（リソースを増やす）方がスケールアウト（インスタンス数を増やす）よりも効率的である場合が多いこと, そして適切なクラスタサイズとアプリケーションの設定が重要であるらしい"}]}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:articles:java-performance-on-kubernetes.md","_source":"content","_file":"articles/java-performance-on-kubernetes.md","_extension":"md"}